<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button color="light"></ion-menu-button>
    </ion-buttons>
    <!-- <ion-buttons > -->
    <div class="plusClass" slot="end">
      <ion-icon name="add" expand="icon-only" color="success"> </ion-icon>
    </div>
    <!-- </ion-buttons> -->
    <ion-title color="light">
      Chat Pages
    </ion-title>
  </ion-toolbar>
  <ion-toolbar>
    <ion-searchbar mode="md" placeholder="Search your friend"></ion-searchbar>
  </ion-toolbar>
</ion-header>


<ion-content>
  <ion-segment mode="md" (ionChange)="segmentChanged($event)" padding>
    <ion-segment-button mode="md" value="chat" checked fixed>
      <div class="contentCenter">
        <ion-icon name="chatbubble-outline" slot="start" class="padding_right tab-icon"></ion-icon>
        <ion-text slot=end>chat</ion-text>
      </div>
    </ion-segment-button>

    <ion-segment-button mode="md" value="people">
      <div class="contentCenter">
        <ion-icon name="person-outline" slot="start" class="padding_right tab-icon"></ion-icon>
        <ion-text slot=end>People</ion-text>
      </div>
    </ion-segment-button>

    <ion-segment-button mode="md" value="group">
      <div class="contentCenter">
        <ion-icon name="people-outline" slot="start" class="padding_right tab-icon"></ion-icon>
        <ion-text slot=end>Group</ion-text>
      </div>
    </ion-segment-button>
  </ion-segment>
  <!-- <content> -->
  <!-- Chat segment -->
  <ion-list *ngIf="segmentTab == 'chat' " no-padding>
    <ion-item *ngFor="let chat of chatData" (click)="goforChat(chat)">
      <ion-avatar class="chatImage" slot="start">
        <ion-img [src]="chat.image"></ion-img>
      </ion-avatar>
      <ion-label>
        <div class="withcount">
          <div class="nameAvatar">
            <h2 color="light">{{chat.name}}
            </h2>
            <ion-avatar class="chatCount" *ngIf="chat.count">{{chat.count}}</ion-avatar>
          </div>

          <div class="timeEnd">
            <ion-text slot="end" color="light">{{chat.time}}</ion-text>
          </div>
        </div>
        <p class="widthHalf">{{chat.description}}</p>
      </ion-label>
    </ion-item>
  </ion-list>
  <!-- People segment -->
  <ion-list *ngIf="segmentTab == 'people' " no-padding>
    <ion-item *ngFor="let user of users" (click)="getAllUsers()">
      <ion-avatar class="chatImage" slot="start">
        <ion-img src="../../assets/chat/chat5.jpg"></ion-img>
      </ion-avatar>
      <ion-label>
        <div class="withcount">
          <div class="nameAvatar">
            <h2 color="light">{{user.username}}
            </h2>
            <ion-avatar class="chatCount" *ngIf="user.registered">{{user.registered}}</ion-avatar>
          </div>
        </div>
        <p class="widthHalf">Cognito ID: {{user.cognitoId}}</p>
      </ion-label>
    </ion-item>
  </ion-list>
  <!-- group segment -->
  <ion-list *ngIf="segmentTab == 'group' " no-padding>
    <ion-item *ngFor="let conversation of conversations" (click)="getAllConvos()">
      <ion-avatar class="chatImage" slot="start">
        <ion-img src="../../assets/chat/chat4.jpg"></ion-img>
      </ion-avatar>
      <ion-label>
        <div class="withcount">
          <div class="nameAvatar">
            <h2 color="light">{{conversation.conversation.createdAt}} {{conversation.userId}}
            </h2>
            <ion-avatar class="chatCount" *ngIf="conversation.conversationId"></ion-avatar>
          </div>
          <div class="timeEnd">
            <ion-text slot="end" color="light">{{conversation.conversation.createdAt}}</ion-text>
          </div>
        </div>
        <p class="widthHalf">UserID: {{conversation.conversation.name}} (ConversationId: {{conversation.conversationId}})</p>
      </ion-label>
    </ion-item>
  </ion-list>
  <!-- </content> -->
</ion-content>